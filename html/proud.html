<html>
  <head>
	<meta charset="UTF-8">
	<meta name="robots" content="index, nofollow">
	<meta name="HandheldFriendly" content="true">
	<meta name="mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	<meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height">
	<title>Acts of Kindness</title>
	<link rel="stylesheet" href="../styles/StarfallvBP.css">
	<link rel="stylesheet" href="../styles/stylesheet.css">
	<link rel="stylesheet" href="../styles/proud-song-v2.css">
	<script src="../scripts/createjs-v1.min.js"></script>
	<script src="../scripts/jquery-2.2.4.min.js"></script>
	<script>
		var SpecialDefinitions = {
			exitURL: 'https://www.starfall.com/h/index.php?mg=m',
			qstring: '?'
		};
		window.onpageshow = function(event) {
			if (event.persisted) {
				$("#dom_overlay_container").hide();
			}
		};
	</script>
	<style>
	#rotate_icon_container {
		text-align: center;
		background-color: #000f1c;
		position: relative;
		display: none;
	}
	#rotate_icon {
		position: absolute;
	}
	body > img[style="visibility: hidden;"] {
		display: none;
	}
	#navigation {
		position: absolute;
		top: 0;
		left: 0;
	}
	#back {
		width: 179px;
	}
	@media only screen and (max-width: 768px) {
		#navigation {
			width: 18%;
		}
		#back {
			width: 100%;
		}
	}
	@media only screen and (max-width: 1165px) {
		#navigation {
			width: 12%;
		}
		#back {
			width: 100%;
		}
	}
	.text1 {
		display: inline-block;
		font: 18px Arial, sans-serif;
		line-height: 130%;
		font-weight: bold;
	}
	.skip2 {
		display: inline-block;
		position: absolute;
		top: 5px;
		left: 200px;
		font-size: 0.75 em;
		margin: auto;
		width: 23%;
		padding: 0px 5px 0px 5px;
		background-color: #7cceff;
		list-style-type: none;
	}
	.skip2 li {
		position: absolute;
		z-index: 1;
		margin: auto;
		width: auto;
	}
	.skip2 a {
		position: absolute;
		left: -9999px;
		background-color: white;
		text-align: center;
		border: 2px solid green;
		border-radius: 12px;
		padding: 5px;
	}
	.skip2 a:active,
	.skip2 a:focus {
		position: absolute;
		left: 100px;
		padding: 0.1em 0.2em 0.2em 0.2em;
		float: center;
	}
    </style>
	<script>
	var leftPosition;
	function isDevice() {
		return /Android|webOS|iPhone|iPad|iPod|Opera Mini/i.test(
			navigator.userAgent
		);
	}
	function isIPhone() {
		return /iPhone/i.test(
			navigator.userAgent
		);
	}
	function resize() {
		var originalWidth = 1920;
		var originalHeight = 1080;
		var width = $(window).width();
		var height = isDevice() ? window.innerHeight : $(window).height();
		var ratio = Math.min(width / originalWidth, height / originalHeight);
		var newWidth = originalWidth * ratio;
		var newHeight = originalHeight * ratio + 180 * ratio;
		var xPos = (width - newWidth) * 0.5 - 120 * ratio;
		$("#title-page").css({
			transform: "scale(" + ratio + ")",
			position: "absolute",
			"transform-origin": "left top",
			left: xPos + "px",
		});
		$("#animation_container").css({
			height: newHeight + "px",
		});
		$("#wrapper-left").css({
			height: originalHeight + "px",
		});
		if (newWidth > window.innerHeight || !isDevice()) {
			$("#rotate_icon_container").hide();
		} else {
			var remainingHeight = window.innerHeight - newHeight;
			$("#rotate_icon_container").css({
				height: remainingHeight + "px",
				width: window.innerWidth + "px",
				display: "block",
			});
			$("#rotate_icon").css({
				top:(remainingHeight - $("#rotate_icon").height()) / 2 + "px",
				left:(window.innerWidth - $("#rotate_icon").width()) / 2 + "px",
				display: "block",
			});
			if(isIPhone()){
				$("#rotate_icon_container img").css({
					transform: "scale(" + .5 + ")"
				});
			}
		}
	}
	function getParams(url) {
		var params = {};
		var parser = document.createElement("a");
		parser.href = url;
		var query = parser.search.substring(1);
		var vars = query.split("&");
		for (var i = 0; i < vars.length; i++) {
			var pair = vars[i].split("=");
			if(pair[0]){
				params[pair[0]] = decodeURIComponent(pair[1]);
			}
		}
		return params;
	}
	function showAvatarEditorPage(){
		$("#dom_overlay_container").show();
		document.getElementById("page").value = "avatareditor";
		document.forms["psform"].submit();
		$("#sparkle1").hide();
		$("#sparkle2").hide();
		$("#sparkle3").hide();
	}
	function showKindnessDeedsPage(){
		$("#dom_overlay_container").show();
		document.getElementById("page").value = "kindnessdeeds";
		document.forms["psform"].submit();
		$("#sparkle1").hide();
		$("#sparkle2").hide();
		$("#sparkle3").hide();
	}
	function showProudSongPage(){
		$("#dom_overlay_container").show();
		if(readCookie("h1")){
			document.getElementById("page").value = "proudsong";
			document.forms["psform"].submit();
		}else{
			document.getElementById("next").value = "proudsong";
			document.getElementById("page").value = "avatareditor";
			document.forms["psform"].submit();
		}
		$("#sparkle1").hide();
		$("#sparkle2").hide();
		$("#sparkle3").hide();
	}
	function showLyricsPage(){
		window.location.href = "lyrics/";
	}
	function showCommodoreGrayPage(){
		window.location.href = "commodore/?sn=proud";
	}
	$(document).ready(function () {
	
		//pass query strings key values.
		var params = getParams(window.location.href);
		var url = 'index.php';
		var n=0;
		for(var key in params){
			url = url+(n <= 0 ? "?" : "&")+key+"="+params[key];
			n++;
		}
		$("#psform").attr('action', url);
		
		var season = 'valentine';
		if(season == false){
			season = "valentine";
		}
		$("#commodoregray-icon").attr("src","images/"+season+"_btn.png?ds=20241122");
		$(".wraper").show();
		$(window).resize(function () {
			resize();
			setTimeout(resize, 100);
		});
		resize();
		setTimeout(resize, 100);
	
		var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);
		if(navigator.platform.indexOf('Mac') >- 1 && isSafari){
			$("#avatar").click(showAvatarEditorPage);
			$("#kindnessdeeds").click(showKindnessDeedsPage);
			$("#proudsong").click(showProudSongPage);
			$("#lyrics").click(showLyricsPage);
			$("#commodoregray").click(showCommodoreGrayPage);
		}else{
			$("#avatar").mousedown(showAvatarEditorPage);
			$("#kindnessdeeds").mousedown(showKindnessDeedsPage);
			$("#proudsong").mousedown(showProudSongPage);
			$("#lyrics").mousedown(showLyricsPage);
			$("#commodoregray").mousedown(showCommodoreGrayPage);
		}
		var key = "";
		var season = 'earth';
		switch (season) {
			case "winter1":
			case "winter3":
				key = "snowflake";
				break;
			case "valentine":
			case "winter2":
				key = "heart";
				break;
			case "summer":
			case "fall":
				key = "plain";
				break;
			case "turkey":
				key = "turkey";
				break;
			case "clover":
				key = "clover";
				break;
			case "earth":
				key = "earth";
				break;
			case "pumpkin":
				key = "pumpkin";
				break;
			default:
				key = "plain";
				break;
		}
		$("#title").attr("src",'images/title_'+key+'.png');
		setTimeout(function() {
			$("#dom_overlay_container").hide();
		}, 1500);


        createjs.Ticker.timingMode = createjs.Ticker.RAF_SYNCHED;
        createjs.Ticker.framerate = 12;
		showDOMSparkles(
			1550,
			375,
			1250,
			620,
			true
		);
	});
	function showDOMSparkles(
		xPos,
		yPos,
		handStartX,
		handStartY
	) {
		$("#sparkle-container").append(
			$("<img>", {
				id: "hand",
				src: "images/hand.png",
			})
		);	
		createjs.Tween.get(this, {
		override: true,
		})
		.wait(5000)
		.call(function () {
			//hand
			var $hand = $("#hand");
			$hand.show();
			$hand.css({
				position: "absolute",
				left: handStartX + "px",
				top: handStartY + "px",
				
			});
			leftPosition = handStartX;
			animateHand();
			//sparkles			
			animateSparkle(1, xPos, yPos);
			setTimeout(animateSparkle, 400, 2, xPos + 25, yPos + 75);
			setTimeout(animateSparkle, 600, 3, xPos - 75, yPos + 200);
		})
		.wait(25000)
		.call(hideDOMSparkles);
	}
	function animateSparkle(index, xPos, yPos){
		$("#sparkle-container").append(
			$("<img>", {
				id: "sparkle" + index,
				src: "images/sparkle.png",
			})
		);
		var $sparkle = $("#sparkle" + index);
		$sparkle.show();
		var rot = Math.random() * 360;
		$sparkle.css({
			position: "absolute",
			left: xPos + "px",
			top: yPos + "px",
			transform: "rotate("+ rot + "deg)",	
		});
		$sparkle.css({
			transform: "scale(0) rotate("+ (rot+180) + "deg)",
			transition: "transform 3000ms",	
		});
	}
	function animateHand(){
		var $hand = $("#hand");
		$hand.animate({left: leftPosition + 50 + 'px'}, 500, "swing", hideHelpingHand);
	}
	function hideHelpingHand(){
		var $hand = $("#hand");
		$hand.animate({opacity: 0}, 500);	
	}
	function hideDOMSparkles(){
		$("#hand").hide();
	}
	function readCookie(name) {
		var nameEQ = name + "=";
		var ca = document.cookie.split(';');
		for (var i = 0; i < ca.length; i++) {
			var c = ca[i];
			while (c.charAt(0) == ' ') c = c.substring(1, c.length);
			if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length, c.length);
		}
		return null;
	}
	</script>
  </head>
  <body style="margin: 0px; background-color: #c67bfa">
	<div style="font-family: 'StarfallvBP_bold'; opacity: 0; position: fixed">.</div>
    <div style="font-family: 'liberation_sansbold'; opacity: 0; position: fixed">.</div>
    <ul class="skip2">
		<li>
			<a class="text1" href="../html/accessibility.php.html" tabindex="1">Accessibility Information</a>
		</li>
	</ul>
    <div id="animation_container" style="background: linear-gradient(90deg, #7100cb 50%, #c67bfa 50%)">
		<div id="dom_overlay_container" style="pointer-events: none; overflow: hidden; position: absolute; left: 0px; top: 0px; display: block; width: 100%; height: 100%; z-index: 1;">
			<div id="_preload_div_" style="background: #7200cb; display: inline-block; height: 100%; width: 100%; vertical-align: middle; position: absolute; left: 0px; top: 0px; text-align: center;">
				<span style="display: inline-block; height: 100%; vertical-align: middle"></span>
				<img src="../images/web-system-wide-loading-stars-GIF.gif" style="vertical-align: middle; max-width: 100%; max-height: 100%">
			</div>
		</div>
		<!-- Title page HTML start -->
		<div class="wraper" id="title-page">
			<div class="wraper-left" id="wrapper-left">
				<div class="bot-lyric-btn">
					<a href="#" id="lyrics">
						<img src="../images/lyrics_btn.png" alt="Lyrics Button" title="Lyrics Button">
					</a>
				</div>
				<div class="main-title">
					<img id="title" src="../images/title_plain.png" alt="I am proud to be me" title="I am proud to be me">
				</div>
				<div class="img-block">
					<ul>
						<li>
							<a href="#" id="kindnessdeeds">
								<img src="../images/kindnessdeeds_btn.png" alt="Kindness deeds" title="Kindness deeds">
								<span>Light Up the World Acts of Kindness</span>
							</a>
						</li>
						<li>
							<a href="#" id="proudsong">
								<img src="../images/proudsong_btn.png" alt="Proud song" title="Proud song">
								<span>I’m Proud to Be Me Song</span>
							</a>
						</li>
						<li>
							<a href="#" id="commodoregray">
								<img id="commodoregray-icon" src="../images/halloween_btn.png" alt="Commodore Gray" title="Commodore Gray">
								<span>Ol’ Commodore Gray</span>
								<span>A Little Song on Tolerance</span>
							</a>
						</li>
					</ul>
				</div>
				<div class="bot-txt">
				Children have posted over 60 million acts of kindness at Starfall! See the <a id="anti-bullying-link" href="../html/anti-bullying.html" style="color: #00ffff; font-weight: bold;">Starfall® anti-bullying guide for teachers and parents</a> with role-playing ideas and other suggestions to encourage understanding and respect for diversity.
				</div>
				<div id="sparkle-container"></div>
				<div class="clear"></div>
			</div>
			<div class="wraper-right" id="wrapper-right">
				<a href="#" id="avatar">
					<img src="../images/no_avatar-v2.png" alt="Avatar Image" title="Avatar Image">
				</a>
				<div class="right-bot-logo">
						<img src="../images/logo-light-v2.png" alt="Starfall" title="Starfall">
				</div>
			</div>
			<div class="clear"></div>
		</div>
			<!-- Title page HTML end -->
	</div>
	<div id="rotate_icon_container">
		<img id="rotate_icon" src="../images/rotate-phone-icon-white.png">
	</div>
	<div id="navigation">
		<a href="../html/index.php.html">
			<img src="../images/green-arrow.png" id="back" alt="back">
		</a>
	</div>
	<form id="psform" action="index.php" method="post">
		<input type="hidden" id="page" name="page" value="">
		<input type="hidden" id="next" name="next" value="">
	</form>
  </body>
</html>